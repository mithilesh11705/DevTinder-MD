import{r,u as g,j as s,L as h}from"./index-BSEMlVRB.js";import{I as f,a as j,S as N}from"./authSchema-D9i-O8QW.js";import{u as b,o as y}from"./index.esm-B03XS2Mx.js";import{T as t,A as w}from"./index-DRGRvaSn.js";import{a as v,A as S}from"./axiosInstance-COeckTb9.js";import{V as n}from"./index-DXwBFIQs.js";import"./iconBase-C3n1ulJp.js";import"./index-3_hu1O3H.js";const A=i=>{const[c,a]=r.useState(!1),d=g();return{isLoading:c,handleSignup:async o=>{a(!0);const m=n.loading("Loading...");try{const l=await v.post("/auth/signup",o);l.data.success&&(n.success(l.data.message),d("/login",{replace:!0}),i())}catch(l){l instanceof S&&n.error(l.response.data.message)}finally{a(!1),n.dismiss(m)}}}},C=()=>{const[i,c]=r.useState(""),{register:a,handleSubmit:d,formState:{errors:e,isValid:o},reset:m}=b({resolver:y(N),defaultValues:{gender:"male"},mode:"onChange"}),{isLoading:l,handleSignup:u}=A(m),p=async x=>{await u(x)};return s.jsxs("div",{className:"h-full flex flex-1 gap-10 items-center justify-center py-3 sm:py-0",children:[s.jsx("div",{className:"lg:block hidden",children:s.jsx("img",{src:"/assets/signup.jpg",className:"block mx-auto w-[448px] rounded-xl",loading:"lazy",alt:"login-img"})}),s.jsxs("div",{className:"max-w-md w-full",children:[s.jsx("h2",{className:"card-title justify-center text-2xl mt-8",children:"Create an Account"}),s.jsxs("form",{noValidate:!0,onSubmit:d(p),className:"card-body",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"floating-label",children:[s.jsx("span",{className:`${(e==null?void 0:e.name)&&"text-red-500"}`,children:"Name"}),s.jsx("input",{type:"text",...a("name"),placeholder:"Name",className:`input w-full h-13 focus:outline-0 focus-within:outline-0 ${(e==null?void 0:e.name)&&"border-red-500"}`})]}),(e==null?void 0:e.name)&&s.jsx(t,{message:e.name.message})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"floating-label",children:[s.jsx("span",{className:`${(e==null?void 0:e.email)&&"text-red-500"}`,children:"Email Address"}),s.jsx("input",{type:"email",...a("email"),placeholder:"Email Address",className:`input w-full h-13 focus:outline-0 focus-within:outline-0 ${(e==null?void 0:e.email)&&"border-red-500"}`})]}),(e==null?void 0:e.email)&&s.jsx(t,{message:e.email.message})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"floating-label",children:[s.jsx("span",{className:`${(e==null?void 0:e.password)&&"text-red-500"}`,children:"Password"}),s.jsx("input",{type:i?"text":"password",...a("password"),placeholder:"Password",className:`input w-full h-13 focus:outline-0 focus-within:outline-0 ${(e==null?void 0:e.password)&&"border-red-500"}`})]}),s.jsx("span",{onClick:()=>c(!i),className:"absolute top-1/2 -translate-y-1/2 right-10 text-base cursor-pointer text-primary",children:i?s.jsx(f,{}):s.jsx(j,{})}),(e==null?void 0:e.password)&&s.jsx(t,{message:e.password.message})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",min:18,...a("age"),placeholder:"Age",className:`input input-bordered w-full h-12 focus:outline-0 focus-within:outline-0 ${(e==null?void 0:e.age)&&"border-red-500"}`}),(e==null?void 0:e.age)&&s.jsx(t,{message:e.age.message})]}),s.jsxs("div",{className:"space-x-4",children:[s.jsxs("label",{className:"label cursor-pointer justify-start gap-2",children:[s.jsx("input",{type:"radio",...a("gender"),className:"radio radio-primary",value:"male"}),s.jsx("span",{className:"label-text",children:"Male"})]}),s.jsxs("label",{className:"label cursor-pointer justify-start gap-2",children:[s.jsx("input",{type:"radio",...a("gender"),className:"radio radio-primary",value:"female"}),s.jsx("span",{className:"label-text",children:"Female"})]})]})]}),s.jsxs("div",{className:"flex items-center flex-col gap-3 my-4",children:[s.jsxs("p",{className:"m-auto cursor-pointer font-light",children:["Already Registered ?"," ",s.jsx(h,{to:"/login",className:"font-semibold",children:"Log In"})]}),s.jsx("button",{type:"submit",disabled:!o||l,className:"btn btn-primary w-full h-11",children:l?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(w,{className:"animate animate-spin text-lg"}),"Processing..."]}):"Signup"})]})]})]})]})};export{C as default};
