import{u as r,j as s,a as n,r as m}from"./index-BSEMlVRB.js";import{t as d}from"./truncateString-LQZzKm5b.js";import{a as x,A as i}from"./axiosInstance-COeckTb9.js";const f=({connection:e})=>{const{_id:a,photoUrl:t,name:l,about:c}=e,o=r();return s.jsxs("div",{className:"flex flex-wrap items-center gap-5 bg-base-100 p-5 rounded-lg md:flex-nowrap",children:[s.jsxs("div",{className:"flex items-center gap-5 flex-1",children:[s.jsx("img",{src:t,className:"w-12 h-12 md:w-16 md:h-16 rounded-full",alt:"photo",loading:"lazy"}),s.jsxs("div",{className:"text-left space-y-1",children:[s.jsx("h3",{className:"font-semibold text-sm md:text-base",children:l}),s.jsx("p",{className:"text-xs md:text-sm",children:d(c,60)})]})]}),s.jsx("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-3 w-full md:w-auto",children:s.jsx("button",{onClick:()=>o(`/chat/${a}`,{replace:!0}),className:"btn btn-primary btn-sm sm:btn-md",children:"Chat"})})]})},h=()=>{const{addConnections:e}=n();m.useEffect(()=>{(async()=>{try{const t=await x.get("/user/connections");t.data.success&&e(t.data.data)}catch(t){t instanceof i&&console.error(t.response.data.message)}})()},[e])},g=()=>{h();const{connections:e}=n();return s.jsx("div",{className:"text-center my-8 max-w-3xl w-full mx-auto px-3",children:(e==null?void 0:e.length)===0?s.jsxs("div",{className:"text-center space-y-5",children:[s.jsx("h2",{className:"sm:text-3xl text-2xl font-bold",children:"No Connections Found!"}),s.jsx("img",{loading:"lazy",src:"/assets/empty-connections.svg",alt:"user-not-found",className:"block mx-auto w-96"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["My Connections (",e==null?void 0:e.length,")"]}),s.jsx("div",{className:"space-y-6 mt-8",children:e==null?void 0:e.map(a=>s.jsx(f,{connection:a},a._id))})]})})};export{g as default};
